<?xml version="1.0" encoding="UTF-8"?>
<Simulation debug="True">
  <RunInfo>
    <WorkingDir>LHStestRaven</WorkingDir>
    <Files>simple_flow_3eqn.i,simple_flow_3eqn_control.py</Files>
    <Sequence>FirstMRun</Sequence>
    <batchSize>1</batchSize>
    <!-- <NumThreads>4</NumThreads>    
    <mode>mpi</mode>
    <NumMPI>2</NumMPI> -->
    <!--<ParallelCommand></ParallelCommand>
        <ThreadingCommand></ThreadingCommand>
        <queueingSoftware></queueingSoftware>
        <procByNode></procByNode>
        <numProcByRun></numProcByRun>
        <totalNumCoresUsed></totalNumCoresUsed>-->
  </RunInfo>

  <Models>
    <Code name='MyRAVEN' subType='RAVEN'><executable>%FRAMEWORK_DIR%/../RAVEN-%METHOD%</executable></Code>
  </Models>

  <Distributions>
    <Normal name='Gauss1'>
      <mean>1</mean>
      <sigma>0.001</sigma>
      <lowerBound>0</lowerBound>
      <upperBound>2</upperBound>
      <adjustement>up</adjustement>
    </Normal>
    <Normal name='auxBackUpTimeDist'>
      <mean>1</mean>
      <sigma>0.001</sigma>
      <lowerBound>0</lowerBound>
      <upperBound>2</upperBound>
      <adjustement>up</adjustement>
    </Normal>    
    <Normal name='Gauss2'>
      <mean>1</mean>
      <sigma>0.4</sigma>
      <lowerBound>0</lowerBound>
      <upperBound>2</upperBound>
      <adjustement>scaling</adjustement>
    </Normal>
    <Triangular name='CladFailureDist'>
      <apex>1</apex>
      <min>-0.1</min>
      <max>3</max>
      <!--         <lowerBound>0</lowerBound> This is not yet supported
           <upperBound>2</upperBound>
           <adjustement>up</adjustement>  -->
    </Triangular>
    <Normal name='ANormalDistribution'>
      <mean>-4</mean>
      <sigma>2</sigma>
    </Normal>
  </Distributions>

  <Samplers>
    <LHS name='myLHS'>
      <sampler_init>
        <initial_seed>1</initial_seed>
      </sampler_init>
      <variable name='Components|pipe|Tw'>
        <distribution >Gauss1</distribution>
        <grid type='value' construction='equal' lowerBound='0.02' steps='3'>0.3</grid>
      </variable>
      <Distribution name='Dummy1'>
        <distribution >ANormalDistribution</distribution>
        <grid type='CDF' construction='equal' upperBound='0.9' steps='3'>0.01</grid>
      </Distribution>
    </LHS>
  </Samplers>
  <Steps>
    <MultiRun name='FirstMRun'>
      <Input      class='Files'      type=''          >simple_flow_3eqn.i</Input>
      <Input      class='Files'      type=''          >simple_flow_3eqn_control.py</Input>
      <Model      class='Models'     type='Code'      >MyRAVEN</Model>
      <Sampler    class='Samplers'   type='LHS'>myLHS</Sampler>
      <Output     class='DataBases'  type='HDF5'      >testLHSRavenDataBase</Output>
      <Output     class='Datas'      type='Histories' >stories</Output>
      <Output  class='Datas'     type='TimePointSet'>outGrid</Output>
      <Output  class='OutStreamManager' type='Print'>outGrid_dump</Output>
    </MultiRun >
  </Steps>
  <DataBases>
    <HDF5 name="testLHSRavenDataBase"/> 
  </DataBases>
  <OutStreamManager>
    <Print name='outGrid_dump'>
        <type>csv</type>
        <source>outGrid</source>
    </Print>
  </OutStreamManager>
  <Datas>
    <TimePointSet name='outGrid'>
      <Input>pipe_Area,pipe_Dh,Dummy1</Input>
      <Output>pipe_Hw,pipe_Tw,time</Output>
    </TimePointSet>
    
    <Histories name='stories'>
      <Input>pipe_Area,pipe_Dh</Input>
      <Output>pipe_Hw,pipe_Tw,time</Output>
    </Histories>
  </Datas>
</Simulation>



