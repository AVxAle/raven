<?xml version="1.0" encoding="UTF-8"?>
<Simulation>
<RunInfo>
    <WorkingDir>./output_check</WorkingDir>
    <Files>ideal_pump.i,ideal_pump_control.py</Files>
    <Sequence>FirstMRun,testOutstreamStep</Sequence>
    <batchSize>3</batchSize>
</RunInfo>

<Models>
    <Code name='MyRAVEN' subType='RAVEN'><executable>%FRAMEWORK_DIR%/../RAVEN-%METHOD%</executable></Code>
</Models>

<Distributions>
    <Normal name='Gauss1'>
        <mean>1</mean>
        <sigma>0.001</sigma>
        <lowerBound>0</lowerBound>
        <upperBound>2</upperBound>
        <adjustement>up</adjustement>
    </Normal>
    <Normal name='auxBackUpTimeDist'>
        <mean>1</mean>
        <sigma>0.001</sigma>
        <lowerBound>0</lowerBound>
        <upperBound>2</upperBound>
        <adjustement>up</adjustement>
    </Normal>
    <Normal name='Gauss2'>
        <mean>1</mean>
        <sigma>0.4</sigma>
        <lowerBound>0</lowerBound>
        <upperBound>2</upperBound>
        <adjustement>scaling</adjustement>
    </Normal>
    <Triangular name='CladFailureDist'>
        <apex>1</apex>
        <min>-0.1</min>
        <max>3</max>
    </Triangular>
</Distributions>

<Samplers>
    <MonteCarlo     name='RAVENmc6'  limit='6'/>
</Samplers>

<OutStreamManager>
  <Print name='testprint'>
    <type>csv</type>
    <source>stories</source>
  </Print>
  <Print name='testprint_selective_hist1'>
    <type>csv</type>
    <source>stories</source>
    <variables>Output</variables>
  </Print>
  <Print name='testprint_selective_hist2'>
    <type>csv</type>
    <source>stories</source>
    <variables>Input</variables>
  </Print>
  <Print name='testprint_selective_hist3'>
    <type>csv</type>
    <source>stories</source>
    <variables>Input|pipe1_Area</variables>
  </Print>
    <Print name='testprint_selective_timepointset'>
        <type>csv</type>
        <source>TimePointSets</source>
        <variables>Output,Input|pipe1_Area</variables>
    </Print>
    <Print name='testprint_selective_timepoint'>
        <type>csv</type>
        <source>TimePointt</source>
        <variables>Output,Input|pipe1_Area</variables>
    </Print>
    <Print name='testprint_selective_history'>
        <type>csv</type>
        <source>Historyy</source>
        <variables>Output,Input|pipe1_Area</variables>
    </Print>
    <Print name='fullprint_histories'>
      <type>csv</type>
      <source>stories</source>
    </Print>
    <Print name='fullprint_history'>
      <type>csv</type>
      <source>Historyy</source>
    </Print>
    <Print name='fullprint_timepoint'>
      <type>csv</type>
      <source>TimePointt</source>
    </Print>
    <Print name='fullprint_timepointset'>
      <type>csv</type>
      <source>TimePointSets</source>
    </Print>
  <Plot name='2DHistoryPlot' dim='2' overwrite='False'>
    <plotSettings>
       <plot>
        <type>line</type>
        <x>stories|Output|time</x>
        <y>stories|Output|pipe1_Hw</y>
        <kwargs>
         <color>green</color>
         <label>pipe1-Hw</label>
        </kwargs>
      </plot>
       <plot>
        <type>line</type>
        <x>stories|Output|time</x>
        <y>stories|Output|pipe1_Hw</y>
        <kwargs>
         <color>blue</color>
         <label>pipe1-Hw</label>
        </kwargs>
      </plot>
      <xlabel>time [s]</xlabel>
      <ylabel>evolution</ylabel>
    </plotSettings>
    <actions>
      <how>pdf,png,eps</how>
      <title>
        <text> </text>
      </title>
    </actions>
  </Plot>
</OutStreamManager>


<Steps>
    <MultiRun name='FirstMRun' pauseAtEnd='False'>
        <Input     class='Files'            type=''             >ideal_pump.i</Input>
        <Input     class='Files'            type=''             >ideal_pump_control.py</Input>
        <Model     class='Models'           type='Code'         >MyRAVEN</Model>
        <Sampler   class = 'Samplers'       type='MonteCarlo'   >RAVENmc6</Sampler>
        <Output    class='DataBases'        type='HDF5'         >testOutputDataBase</Output>
        <Output    class='Datas'            type='Histories'    >stories</Output>
        <Output    class='Datas'            type='TimePointSet' >TimePointSets</Output>
        <Output    class='Datas'            type='TimePoint'    >TimePointt</Output>
        <Output    class='Datas'            type='History'      >Historyy</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint</Output>
        <Output    class='OutStreamManager' type='Print'        >fullprint_timepointset</Output>
    </MultiRun >
    <OutStreamStep name='testOutstreamStep' pauseAtEnd='False'>
        <Input    class='Datas'            type='Histories'    >stories</Input>
        <Input    class='Datas'            type='TimePointSet' >TimePointSets</Input>
        <Input    class='Datas'            type='TimePoint'    >TimePointt</Input>
        <Input    class='Datas'            type='History'      >Historyy</Input>
        
        <Output    class='OutStreamManager' type='Plot'         >2DHistoryPlot</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_hist1</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_hist2</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_hist3</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_timepointset</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_timepoint</Output>
        <Output    class='OutStreamManager' type='Print'        >testprint_selective_history</Output>
        <Output    class='OutStreamManager' type='Print'        >fullprint_histories</Output>
        <Output    class='OutStreamManager' type='Print'        >fullprint_history</Output>
        <Output    class='OutStreamManager' type='Print'        >fullprint_timepoint</Output>
    </OutStreamStep>
</Steps>
<DataBases>
    <HDF5 name="testOutputDataBase" type="MC"/>
</DataBases>
<Datas>
    <Histories name='stories'>
        <Input>pipe1_Area,pipe1_Dh</Input>
        <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </Histories>
   <TimePointSet name='TimePointSets'>
        <Input>pipe1_Area,pipe1_Dh</Input>
        <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </TimePointSet>
   <TimePoint name='TimePointt'>
        <Input>pipe1_Area,pipe1_Dh</Input>
        <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </TimePoint>
   <History name='Historyy'>
        <Input>pipe1_Area,pipe1_Dh</Input>
        <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </History>
</Datas>
</Simulation>
