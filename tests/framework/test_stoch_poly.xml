<?xml version="1.0" encoding="UTF-8"?>
<Simulation debug="False">
    <RunInfo>
        <WorkingDir>StochasticPolyTest</WorkingDir>
        <Sequence>Umake,Utrain,Utest,Uprint,
                  Nmake,Ntrain,Ntest,Nprint,
                  Gmake,Gtrain,Gtest,Gprint,
                  Bmake,Btrain,Btest,Bprint,
                  Tmake,Ttrain,Ttest,Tprint,
                  Emake,Etrain,Etest,Eprint,
                  UCmake,UCtrain,UCtest,UCprint,
                  BNmake,BNtrain,BNtest,BNprint
        </Sequence>
        <batchSize>1</batchSize>
    </RunInfo>

    <Distributions>
        <Uniform name="UniDist">
            <low>1</low>
            <high>5</high>
        </Uniform>
        <Normal name="NormDist">
            <mean>3</mean>
            <sigma>2</sigma>
        </Normal>
        <Gamma name="GammaDist">
            <low>0</low>
            <alpha>2</alpha>
        </Gamma>
        <Beta name="BetaDist">
            <low>0</low>
            <high>1</high>
            <alpha>2</alpha>
            <beta>5</beta>
        </Beta>
        <Beta name="BetaNorm">
            <peakFactor>0.5</peakFactor>
            <low>0</low>
            <hi>1</hi>
        </Beta>
        <Triangular name='TriDist'>
            <min>1</min>
            <max>5</max>
            <apex>4</apex>
        </Triangular>
        <Exponential name='ExpDist'>
            <lambda>1.5</lambda>
        </Exponential>
    </Distributions>

    <Samplers>
        <SparseGridCollocation name="USG" parallel="1">
            <variable name="x1"><distribution>UniDist</distribution></variable>
            <variable name="x2"><distribution>UniDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>UROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="UCSG" parallel="1">
            <variable name="x1"><distribution>UniDist</distribution></variable>
            <variable name="x2"><distribution>UniDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>UCROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="NSG" parallel="1">
            <variable name="x1"><distribution>NormDist</distribution></variable>
            <variable name="x2"><distribution>NormDist</distribution></variable>
            <ROM  class = 'Models' type = 'ROM'>NROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="GSG" parallel="1">
            <variable name="x1"><distribution>GammaDist</distribution></variable>
            <variable name="x2"><distribution>GammaDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>GROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="BSG" parallel="1">
            <variable name="x1"><distribution>BetaDist</distribution></variable>
            <variable name="x2"><distribution>BetaDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>BROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="BNSG" parallel="1">
            <variable name="x1"><distribution>BetaNorm</distribution></variable>
            <variable name="x2"><distribution>BetaNorm</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>BNROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="TSG" parallel="1">
            <variable name="x1"><distribution>TriDist</distribution></variable>
            <variable name="x2"><distribution>TriDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>TROM</ROM>
        </SparseGridCollocation>

        <SparseGridCollocation name="ESG" parallel="1">
            <variable name="x1"><distribution>ExpDist</distribution></variable>
            <variable name="x2"><distribution>ExpDist</distribution></variable>
            <ROM class = 'Models' type = 'ROM'>EROM</ROM>
        </SparseGridCollocation>
    </Samplers>

    <Models>
        <Dummy name="MyDummy" subType="" print="True"/>
        <ExternalModel name='polynomial' subType='' ModuleToLoad = './StochasticPolyTest/polynomial'>
            <variable>x1</variable>
            <variable>x2</variable>
            <variable>ans</variable>
        </ExternalModel>
        <ROM name='UROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Legendre' poly='Legendre' weight='1'>x1</Interpolation>
            <Interpolation quad='Legendre' poly='Legendre' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='UCROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='ClenshawCurtis' poly='Legendre' weight='1'>x1</Interpolation>
            <Interpolation quad='ClenshawCurtis' poly='Legendre' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='NROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Hermite' poly='Hermite' weight='1'>x1</Interpolation>
            <Interpolation quad='Hermite' poly='Hermite' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='GROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Laguerre' poly='Laguerre'>x1</Interpolation>
            <Interpolation quad='Laguerre' poly='Laguerre' weight='1' >x2</Interpolation>
        </ROM>
        <ROM name='BROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Jacobi' poly='Jacobi' weight='1'>x1</Interpolation>
            <Interpolation quad='Jacobi' poly='Jacobi' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='BNROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Jacobi' poly='Jacobi' weight='1'>x1</Interpolation>
            <Interpolation quad='Jacobi' poly='Jacobi' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='TROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='ClenshawCurtis' poly='Legendre' weight='1'>x1</Interpolation>
            <Interpolation quad='ClenshawCurtis' poly='Legendre' weight='1'>x2</Interpolation>
        </ROM>
        <ROM name='EROM' subType='GaussPolynomialRom'>
            <Target>ans</Target>
            <Features>x1,x2</Features>
            <IndexSet>TensorProduct</IndexSet>
            <PolynomialOrder>2</PolynomialOrder>
            <Interpolation quad='Legendre' poly='Legendre' weight='1'>x1</Interpolation>
            <Interpolation quad='Legendre' poly='Legendre' weight='1'>x2</Interpolation>
        </ROM>
    </Models>

    <Steps>
        <MultiRun name='Umake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>USG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Usolns</Output>
        </MultiRun>
        <RomTrainer name='Utrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Usolns</Input>
            <Output  class='Models'           type='ROM'                  >UROM</Output>
        </RomTrainer>
        <MultiRun name='Utest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>USG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >UROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Utests</Output>
        </MultiRun>
        <OutStreamStep name='Uprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Utests</Input>
            <Output  class='OutStreamManager' type='Print'                >Udump</Output>
        </OutStreamStep>

        <MultiRun name='UCmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>UCSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >UCsolns</Output>
        </MultiRun>
        <RomTrainer name='UCtrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >UCsolns</Input>
            <Output  class='Models'           type='ROM'                  >UCROM</Output>
        </RomTrainer>
        <MultiRun name='UCtest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>UCSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >UCROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >UCtests</Output>
        </MultiRun>
        <OutStreamStep name='UCprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >UCtests</Input>
            <Output  class='OutStreamManager' type='Print'                >UCdump</Output>
        </OutStreamStep>

        <MultiRun name='Nmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>NSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Nsolns</Output>
        </MultiRun>
        <RomTrainer name='Ntrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Nsolns</Input>
            <Output  class='Models'           type='ROM'                  >NROM</Output>
        </RomTrainer>
        <MultiRun name='Ntest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>NSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >NROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Ntests</Output>
        </MultiRun>
        <OutStreamStep name='Nprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Ntests</Input>
            <Output  class='OutStreamManager' type='Print'                >Ndump</Output>
        </OutStreamStep>

        <MultiRun name='Gmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>GSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Gsolns</Output>
        </MultiRun>
        <RomTrainer name='Gtrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Gsolns</Input>
            <Output  class='Models'           type='ROM'                  >GROM</Output>
        </RomTrainer>
        <MultiRun name='Gtest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>GSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >GROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Gtests</Output>
        </MultiRun>
        <OutStreamStep name='Gprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Gtests</Input>
            <Output  class='OutStreamManager' type='Print'                >Gdump</Output>
        </OutStreamStep>

        <MultiRun name='Bmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>BSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Bsolns</Output>
        </MultiRun>
        <RomTrainer name='Btrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Bsolns</Input>
            <Output  class='Models'           type='ROM'                  >BROM</Output>
        </RomTrainer>
        <MultiRun name='Btest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>BSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >BROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Btests</Output>
        </MultiRun>
        <OutStreamStep name='Bprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Btests</Input>
            <Output  class='OutStreamManager' type='Print'                >Bdump</Output>
        </OutStreamStep>

        <MultiRun name='BNmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>BNSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >BNsolns</Output>
        </MultiRun>
        <RomTrainer name='BNtrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >BNsolns</Input>
            <Output  class='Models'           type='ROM'                  >BNROM</Output>
        </RomTrainer>
        <MultiRun name='BNtest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>BNSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >BNROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >BNtests</Output>
        </MultiRun>
        <OutStreamStep name='BNprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >BNtests</Input>
            <Output  class='OutStreamManager' type='Print'                >BNdump</Output>
        </OutStreamStep>

        <MultiRun name='Tmake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>TSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Tsolns</Output>
        </MultiRun>
        <RomTrainer name='Ttrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Tsolns</Input>
            <Output  class='Models'           type='ROM'                  >TROM</Output>
        </RomTrainer>
        <MultiRun name='Ttest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>TSG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >TROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Ttests</Output>
        </MultiRun>
        <OutStreamStep name='Tprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Ttests</Input>
            <Output  class='OutStreamManager' type='Print'                >Tdump</Output>
        </OutStreamStep>

        <MultiRun name='Emake' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>ESG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ExternalModel'        >polynomial</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Esolns</Output>
        </MultiRun>
        <RomTrainer name='Etrain'>
            <Input   class='DataObjects'            type='TimePointSet'         >Esolns</Input>
            <Output  class='Models'           type='ROM'                  >EROM</Output>
        </RomTrainer>
        <MultiRun name='Etest' pauseAtEnd='False'>
            <Sampler class='Samplers'         type='SparseGridCollocation'>ESG</Sampler>
            <Input   class='DataObjects'            type='TimePointSet'         >dummyIN</Input>
            <Model   class='Models'           type='ROM'                  >EROM</Model>
            <Output  class='DataObjects'            type='TimePointSet'         >Etests</Output>
        </MultiRun>
        <OutStreamStep name='Eprint'>
            <Input   class='DataObjects'            type='TimePointSet'         >Etests</Input>
            <Output  class='OutStreamManager' type='Print'                >Edump</Output>
        </OutStreamStep>

    </Steps>

    <DataObjects>
        <TimePointSet name="dummyIN">
            <Input>x1,x2</Input>
            <Output>OutputPlaceHolder</Output>
        </TimePointSet>
        <TimePointSet name='Utests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Usolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='UCtests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='UCsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Ntests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Nsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Gtests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Gsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Btests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Bsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='BNtests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='BNsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Ttests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Tsolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Etests'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
        <TimePointSet name='Esolns'>
            <Input>x1,x2</Input>
            <Output>ans</Output>
        </TimePointSet>
    </DataObjects>

    <OutStreamManager>
        <Print name='Udump'>
            <type>csv</type>
            <source>Utests</source>
        </Print>
        <Print name='UCdump'>
            <type>csv</type>
            <source>UCtests</source>
        </Print>
        <Print name='Ndump'>
            <type>csv</type>
            <source>Ntests</source>
        </Print>
        <Print name='Gdump'>
            <type>csv</type>
            <source>Gtests</source>
        </Print>
        <Print name='Bdump'>
            <type>csv</type>
            <source>Btests</source>
        </Print>
        <Print name='BNdump'>
            <type>csv</type>
            <source>BNtests</source>
        </Print>
        <Print name='Tdump'>
            <type>csv</type>
            <source>Ttests</source>
        </Print>
        <Print name='Edump'>
            <type>csv</type>
            <source>Etests</source>
        </Print>
    </OutStreamManager>

</Simulation>
