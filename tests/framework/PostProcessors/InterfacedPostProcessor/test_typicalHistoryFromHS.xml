<?xml version="1.0" ?>
<Simulation verbosity="debug">
    <RunInfo>
        <WorkingDir>TypicalHistoryFromHS</WorkingDir>
		<Sequence>readIn,pp,writeOut</Sequence> 
        <batchSize>1</batchSize>
    </RunInfo>
    <Files>
        <Input name="windRawDataFile">./SITE_03247_H.csv</Input>
		<Input name="ghostDataFile">./ghostData.csv</Input>
    </Files>

	<Models>
		<PostProcessor name = 'TypicalHistory' subType = 'InterfacedPostProcessor'>
			<method>TypicalHistoryFromHistorySet</method>
			<subsequence>Month</subsequence>
			<timeID>Time</timeID>
		</PostProcessor>			
    </Models>
    <Steps>
        <IOStep name='readIn' pauseAtEnd = 'True'>
            <Input    class = 'Files'             type = ''              >windRawDataFile</Input>
            <Output   class = 'DataObjects'       type = 'HistorySet'       >windRawData</Output>        
		</IOStep>
		<PostProcess name='pp' pauseAtEnd = 'True'>
			<Input    class = 'DataObjects'       type = 'HistorySet'       >windRawData</Input>
			<Model   class='Models' 			  type = 'PostProcessor'    >TypicalHistory</Model>
			<Output    class = 'DataObjects'       type = 'History'    	 >windTypicalData</Output>
		</PostProcess>

        <IOStep name='writeOut' pauseAtEnd = 'True'>
			<Input    class = 'DataObjects'       type = 'HistorySet'       >windRawData</Input>
			<Input    class = 'DataObjects'       type = 'History'    	 >windTypicalData</Input>
			<Output   class = 'OutStreamManager'  type = 'Print'         >writeTypDataOut</Output>	
			<Output   class = 'OutStreamManager'  type = 'Plot'         >plotWindTypData</Output>			
		</IOStep>	
    </Steps>
	
    <OutStreamManager>			
        <Print name = 'writeTypDataOut'>
            <type>csv</type>
            <source>windTypicalData</source>
        </Print>
			
		<Plot dim="2" name="plotWindTypData" overwrite="false" >
			<plotSettings>
			<gridSpace>2 1</gridSpace>
				<plot>
					<type>line</type>
					<x>windRawData|Output|Time</x>
					<y>windRawData|Output|Speed</y>
					<gridLocation>
						<x>0</x>
						<y>0</y>
					</gridLocation>
					<interpPointsX>500000</interpPointsX>
				</plot>
				<plot>
					<type>line</type>
					<x>windTypicalData|Output|Time</x>
					<y>windTypicalData|Output|Speed</y>
					<interpPointsX>500000</interpPointsX>
					<gridLocation>
						<x>1</x>
						<y>0</y>
					</gridLocation>
				</plot>
			</plotSettings>
			<actions>
				<range>
					<xmin>0</xmin><xmax>31536000</xmax>
					<ymin>0</ymin><ymax>30</ymax>
				</range>
				<how>png</how>
			</actions>
	    </Plot>
	</OutStreamManager>
	
    <DataObjects>
        <HistorySet name="windRawData">
            <Input>x</Input>
            <Output>Time,Speed</Output>
        </HistorySet>
		<HistorySet name="windTypicalData">
            <Input>x</Input>
            <Output>Time,Speed</Output>
        </HistorySet>
    </DataObjects>
</Simulation>

