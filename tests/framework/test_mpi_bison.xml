<?xml version="1.0" encoding="UTF-8"?>
<Simulation debug="True">
<RunInfo>
    <WorkingDir>mpi_bison_test</WorkingDir>
    <Files>case_1.i,case_1.e</Files>
    <Sequence>myLHS</Sequence>
    <batchSize>9</batchSize>
    <NumThreads>2</NumThreads>    
    <mode>mpi</mode>
    <NumMPI>2</NumMPI>
    <!--<ParallelCommand></ParallelCommand>
    <ThreadingCommand></ThreadingCommand>
    <queueingSoftware></queueingSoftware>
    <procByNode></procByNode>
    <numProcByRun></numProcByRun>
    <totalNumCoresUsed></totalNumCoresUsed>-->
</RunInfo>

<Models>
    <Code name='Bison' subType='MooseBasedApp'><executable>%FRAMEWORK_DIR%/../../bison/bison-%METHOD%</executable></Code>
</Models>

<Distributions>
    <Normal name='Gauss1'>
        <mean>1273.0</mean>
        <sigma>100.</sigma>
        <lowerBound>0</lowerBound>
        <upperBound>3000.0</upperBound>
        <adjustement>up</adjustement>
    </Normal>
    <Normal name='Gauss2'>
        <mean>0.1e6</mean>
        <sigma>0.1e5</sigma>
        <lowerBound>0</lowerBound>
        <upperBound>0.2e6</upperBound>
        <adjustement>scaling</adjustement>
    </Normal>
</Distributions>
<Samplers>
    <Stratified name='myLHS'>
      <sampler_init>
        <initial_seed>1</initial_seed>
      </sampler_init>
      <variable name='BCs|freesurf_temp|value' >
        <distribution  >Gauss1</distribution>
        <grid type='CDF' construction='equal' lowerBound='0.01' steps='9'>0.1</grid>
      </variable>
      <variable name='BCs|exterior_pressure_y|factor'>
        <distribution  >Gauss2</distribution>
        <grid type='CDF' construction='equal' upperBound='0.99' steps='9'>0.1</grid>
      </variable>
    </Stratified>
</Samplers>

<DataObjects>
    <Histories name='stories'>
        <Input>BCs|freesurf_temp|value,BCs|exterior_pressure_y|factor</Input>
        <Output>dt</Output>
   </Histories>
</DataObjects>

<Steps>
    <MultiRun name='myLHS'>
      <Input   class = 'Files'      type=''          >case_1.i</Input>
      <Input   class = 'Files'      type=''          >case_1.e</Input>
      <Model   class = 'Models'     type='Code'      >Bison</Model>
      <Sampler class='Samplers' type='Stratified'         >myLHS</Sampler>
      <Output  class='Databases'    type='HDF5'>test_bison_mpi_lhs</Output>
      <Output class='DataObjects' type='Histories'>stories</Output>
    </MultiRun >
</Steps>

<Databases>
  <HDF5 name="test_bison_mpi_lhs"/> 
</Databases>

</Simulation>
