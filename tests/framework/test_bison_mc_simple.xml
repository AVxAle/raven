<?xml version="1.0" encoding="UTF-8"?>
<Simulation>

<RunInfo>
    <WorkingDir>MCTestBison</WorkingDir>
    <Files>gap_perfect_transfer_test.i,gap_perfect_transfer_test.e</Files>
    <Sequence>CustomSampler,CustomSampler_noalias</Sequence>
    <batchSize>2</batchSize>
</RunInfo>

<Models>
    <!-- 
       I added here the two different codes (from the framework point of view) in order to show how the input changes when we use the alias system.
                                      Search for 'noalias' in order to compare. Andrea
     -->
    <Code name='Bison' subType='MooseBasedApp' executable='%FRAMEWORK_DIR%/../../bison/bison-%METHOD%'>
        <alias variable='tc_heat1'>Materials|heat1|thermal_conductivity</alias>
        <alias variable='tc_heat2'>Materials|heat2|thermal_conductivity</alias>
    </Code>
    <!-- You can define the code, when there are no alias, in the following way -->
    <Code name='Bison_code_noalias' subType='MooseBasedApp'>%FRAMEWORK_DIR%/../../bison/bison-%METHOD%</Code>
    <!-- or <Code name='Bison' subType='MooseBasedApp' executable='%FRAMEWORK_DIR%/../../bison/bison-%METHOD%'/> -->
</Models>

<Distributions>
    <Uniform name='FlatHeat1'>
      <low>0.8</low>
      <hi>1.2</hi>
    </Uniform>
    <Uniform name='FlatHeat2'>
      <low>8.0</low>
      <hi>12.0</hi>
    </Uniform>
</Distributions>

<Samplers>
  <MonteCarlo name='Bison1' limit='3'>
      <varibale name='tc_heat1' >
          <distribution type='Uniform'>FlatHeat1</distribution>
      </varibale>
      <varibale name='tc_heat2' >
          <distribution type='Uniform'>FlatHeat2</distribution>
      </varibale>
  </MonteCarlo>
  <!-- Sampler noalias -->
  <MonteCarlo name='Bison_sampler_noalias' limit='3'>
        <varibale name='Materials|heat1|thermal_conductivity' >
            <distribution type='Uniform'>FlatHeat1</distribution>
        </varibale>
        <varibale name='Materials|heat2|thermal_conductivity' >
            <distribution type='Uniform'>FlatHeat2</distribution>
        </varibale>
  </MonteCarlo>
</Samplers>

<Datas>
    <Histories name='stories'>
        <Input>tc_heat1,tc_heat2</Input>
        <Output>aveTempLeft,aveTempRight</Output>
   </Histories>
    <!-- Data noalias-->
    <Histories name='stories_noalias'>
        <Input>Materials|heat1|thermal_conductivity,Materials|heat2|thermal_conductivity</Input>
        <Output>aveTempLeft,aveTempRight</Output>
    </Histories>
</Datas>


<Steps>
  <MultiRun name='CustomSampler'>
    <Input   class = 'Files'      type=''           >gap_perfect_transfer_test.i</Input>
    <Input   class = 'Files'      type=''           >gap_perfect_transfer_test.e</Input>
    <Model   class = 'Models'     type='Code'       >Bison</Model>
    <Sampler class = 'Samplers'   type='MonteCarlo' >Bison1</Sampler>
    <Output  class = 'DataBases'  type='HDF5'       >test_bison_mc_simple</Output>
    <Output  class = 'Datas'      type='Histories'  >stories</Output>
  </MultiRun >
  <!-- Step noalias--> 
  <MultiRun name='CustomSampler_noalias'>
    <Input   class = 'Files'      type=''           >gap_perfect_transfer_test.i</Input>
    <Input   class = 'Files'      type=''           >gap_perfect_transfer_test.e</Input>
    <Model   class = 'Models'     type='Code'       >Bison_code_noalias</Model>
    <Sampler class ='Samplers'    type='MonteCarlo' >Bison_sampler_noalias</Sampler>
    <Output  class ='DataBases'   type='HDF5'       >test_bison_mc_simple_noalias</Output>
    <Output  class ='Datas'       type='Histories'  >stories_noalias</Output>
  </MultiRun >
</Steps>

<DataBases>
        <HDF5 name="test_bison_mc_simple"/>
        <HDF5 name="test_bison_mc_simple_noalias"/>
</DataBases>
</Simulation>



