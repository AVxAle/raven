<?xml version="1.0" encoding="UTF-8"?>
<Simulation verbosity='debug'>
<RunInfo>
    <WorkingDir>test_extract_data_s_from_hdf5</WorkingDir>
    <Files>ideal_pump.i,ideal_pump_control.py</Files>
    <Sequence>MonteCarlo,test_extract,test_push_in,test_extract_again</Sequence>
    <batchSize>1</batchSize>
</RunInfo>
<Models>
    <Code name='MyRAVEN' subType='RAVEN'><executable>%FRAMEWORK_DIR%/../RAVEN-%METHOD%</executable></Code>
</Models>
<Samplers>
  <MonteCarlo     name='RAVENmc3'>
      <sampler_init>
          <limit>1</limit>
          <initial_seed>1</initial_seed>
      </sampler_init>
  </MonteCarlo>
</Samplers>
<Steps>
    <MultiRun name='MonteCarlo'>
        <Input   class='Files'      type=''          >ideal_pump.i</Input>
        <Input   class='Files'      type=''          >ideal_pump_control.py</Input>
        <Model   class='Models'     type='Code'      >MyRAVEN</Model>
        <Sampler class='Samplers'   type='MonteCarlo'>RAVENmc3</Sampler>
        <Output  class='Databases'  type='HDF5'      >MC_TEST_EXTRACT_STEP</Output>
    </MultiRun>
    <IOStep name='test_extract'>
        <Input   class='Databases' type='HDF5'   >MC_TEST_EXTRACT_STEP</Input>
        <Output  class='DataObjects'    type='HistorySet'>HistorySet_from_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_EXTRACT_STEP</Input>
        <Output  class='DataObjects'    type='Point'>Point_from_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_EXTRACT_STEP</Input>
        <Output  class='DataObjects'    type='History'>history_from_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_EXTRACT_STEP</Input>
        <Output  class='DataObjects'    type='PointSet'>Pointset_from_database</Output>
        <Output    class='OutStreamManager' type='Print'     >Pointset_from_database_dump</Output>
    </IOStep>
    <IOStep name='test_push_in'>
        <Input  class='DataObjects'    type='HistorySet'>HistorySet_from_database</Input>
        <Output   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Output>
        <Input  class='DataObjects'    type='Point'>Point_from_database</Input>
        <Output   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Output>
        <Input  class='DataObjects'    type='History'>history_from_database</Input>
        <Output   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Output>
        <Input  class='DataObjects'    type='PointSet'>Pointset_from_database</Input>
        <Output   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Output>
    </IOStep>
    <IOStep name='test_extract_again'>
        <Input   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Input>
        <Output  class='DataObjects'    type='HistorySet'>HistorySet_IN_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Input>
        <Output  class='DataObjects'    type='Point'>Point_IN_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Input>
        <Output  class='DataObjects'    type='History'>history_IN_database</Output>
        <Input   class='Databases' type='HDF5'   >MC_TEST_PUSH_STEP</Input>
        <Output  class='DataObjects'    type='PointSet'>Pointset_IN_database</Output>
        <Output    class='OutStreamManager' type='Print'     >Pointset_IN_database_dump</Output>
    </IOStep>
</Steps>
<Databases>
        <HDF5 name="MC_TEST_EXTRACT_STEP"/>
        <HDF5 name="MC_TEST_PUSH_STEP"/>
</Databases>
<OutStreamManager>
  <Print name='Pointset_from_database_dump'>
    <type>csv</type>
    <source>Pointset_from_database</source>
  </Print>
  <Print name='Pointset_IN_database_dump'>
    <type>csv</type>
    <source>Pointset_IN_database</source>
  </Print>

</OutStreamManager>


<DataObjects>
   <Point name='Point_from_database' inputTs='1' historyName="1">
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </Point>
   <Point name='Point_IN_database' inputTs='1' historyName="HistorySet_from_database|0">
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </Point>
   <PointSet name='Pointset_from_database' inputTs='1'>
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </PointSet>
   <PointSet name='Pointset_IN_database' inputTs='1'>
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </PointSet>
   <History name='history_from_database' inputTs='1' historyName="1">
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </History>
   <History name='history_IN_database' inputTs='1' historyName="HistorySet_from_database|0">
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </History>
   <HistorySet name='HistorySet_from_database' inputTs='1'>
        <Input>dummy_for_branch</Input>
        <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </HistorySet>
   <HistorySet name='HistorySet_IN_database' inputTs='1'>
       <Input>dummy_for_branch</Input>
       <Output>pipe1_Hw,pump_mass_flow_rate,time</Output>
   </HistorySet>
</DataObjects>
</Simulation>
