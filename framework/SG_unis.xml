<?xml version="1.0" encoding="UTF-8"?>
<Simulation debug="False">
  <RunInfo>
    <WorkingDir>StochasticPolyTest</WorkingDir>
    <Sequence>CustomSampler,Print</Sequence>
    <batchSize>512</batchSize>
    <mode>pbsdsh</mode>
    <expectedTime>1:00:00</expectedTime>
  </RunInfo>
  <Models>
    <Dummy name="MyDummy" subType="" print="True"/>
  </Models>
  <Distributions>
    <Uniform name="UniDist">
      <low>1</low>
      <high>5</high>
    </Uniform>
  </Distributions>
  <Samplers>
    <StochasticPolynomials name="myStochPolys" indexSetType="HyperbolicCross" maxPolyOrder="5" parallel="true">
      <variable name="Uni1" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name="Uni2" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name="Uni3" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name="Uni4" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name="Uni5" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name="Uni6" impWeight="1">
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name='Uni7' impWeight='1'>
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
      <variable name='Uni8' impWeight='1'>
        <distribution>UniDist</distribution>
        <quadrature>
          <type>Legendre</type>
        </quadrature>
      </variable>
    </StochasticPolynomials>
  </Samplers>
  <Datas>
    <TimePointSet name="outGrid">
      <Input>Uni1,Uni2,Uni3,Uni4,Uni5,Uni6,Uni7,Uni8</Input>
      <!--Input>Uni1,Uni2</Input-->
      <Output>OutputPlaceHolder</Output>
    </TimePointSet>
    <TimePointSet name="dummyIN">
      <Input>Uni1,Uni2,Uni3,Uni4,Uni5,Uni6,Uni7,Uni8</Input>
      <!--Input>Uni1,Uni2</Input-->
      <Output>OutputPlaceHolder</Output>
    </TimePointSet>
  </Datas>
  <OutStreamManager>
    <Print name="outGrid_dump">
      <type>csv</type>
      <source>outGrid</source>
    </Print>
    <Plot name="Unis" dim="2" overwrite="True" pauseAtEnd="True">
      <plotSettings>
        <plot>
          <type>scatter</type>
          <x>outGrid|Input|Uni1</x>
          <y>outGrid|Input|Uni2</y>
        </plot>
        <xlabel>Uni1</xlabel>
        <ylabel>Uni2</ylabel>
      </plotSettings>
      <actions>
        <how>pdf,screen</how>
        <title>
          <text>Sparse Grid</text>
        </title>
      </actions>
    </Plot>
  </OutStreamManager>
  <Steps>
    <MultiRun name="CustomSampler">
      <Input class="Datas" type="TimePointSet">dummyIN</Input>
      <Model class="Models" type="Dummy">MyDummy</Model>
      <Sampler class="Samplers" type="StochasticPolynomials">myStochPolys</Sampler>
      <Output class="Datas" type="TimePointSet">outGrid</Output>
      <Output class="DataBases" type="HDF5">test_DummyModel_db</Output>
    </MultiRun>
    <OutStreamStep name="Print">
      <Input class="Datas" type="TimePointSet">outGrid</Input>
      <Output class="OutStreamManager" type="Print">outGrid_dump</Output>
    </OutStreamStep>
    <OutStreamStep name="Plot" pauseAtEnd="True">
      <Input class="Datas" type="TimePointSet">outGrid</Input>
      <Output class="OutStreamManager" type="Plot">Unis</Output>
    </OutStreamStep>
  </Steps>
  <DataBases>
    <HDF5 name="test_DummyModel_db"/>
  </DataBases>
</Simulation>
