<?xml version="1.0" encoding="UTF-8"?>
<Simulation>
<!--
this is a test for the adaptive sampling that uses an adaptive sampling over the dummy model
-->
<RunInfo>
    <WorkingDir>AdaptiveTest</WorkingDir>
    <Files>myModel.py</Files>
    <Files>myFunction.py</Files>
    <Sequence>firstAdaptive</Sequence>
    <batchSize>8</batchSize>
</RunInfo>

<Distributions>
    <Uniform name='X_distrib'>
        <low>0</low>
        <hi>10</hi>
    </Uniform>
    <Uniform name='Y_distrib'>
        <low>0</low>
        <hi>10</hi>
    </Uniform>
</Distributions>

<Samplers>
  <Adaptive name='myAdaptive' adaptiveAlgorithm='leastDistance' >
    <Convergence norm='relL2' limit='2000' forceIteration='False' weight='probability' persistence='5'>0.001</Convergence>
    <varibale name='X' >
      <distribution type ='Uniform'>X_distrib</distribution>
    </varibale>
    <varibale name='Y' >
      <distribution type ='Uniform'>Y_distrib</distribution>
    </varibale>
  </Adaptive>
</Samplers>
<Functions>
  <External name='myFunction' file='myFunction.py'>
    <variable type='numpy.ndarray'>X</variable>
    <variable type='numpy.ndarray'>Y</variable>
  </External>
</Functions>
<Datas>
    <TimePointSet name='adaptiveOut'>
        <Input>X,Y</Input>
        <Output>whatEver</Output>
   </TimePointSet>
   <TimePointSet name='dummyIN'>
      <Input>X,Y</Input>
      <Output>whatEver</Output>
   </TimePointSet>
    <TimePointSet name='limitSurf'>
        <Input>X,Y</Input>
        <Output>whatEver</Output>
   </TimePointSet>
</Datas>

<Models>
  <Dummy name='MyDummy' subType='' print='True'/>
</Models>

<Steps>
    <Adaptive name='firstAdaptive' sleepTime='0.001'>
        <Input             class='Datas'     type='TimePoint'   >dummyIN</Input>
        <Sampler           class='Samplers'  type='Adaptive'    >myAdaptive</Sampler>
        <TargetEvaluation  class='Datas'     type='TimePointSet'>adaptiveOut</TargetEvaluation>
        <SolutionExport    class='Datas'     type='TimePointSet'>limitSurf</SolutionExport>
        <Function          class='Functions' type='External'    >myFunction</Function>
        <Model             class='Models'    type='Dummy'       >MyDummy</Model>
        <Output            class='Datas'     type='TimePointSet'>adaptiveOut</Output>
        
    </Adaptive> 
</Steps>
</Simulation>



