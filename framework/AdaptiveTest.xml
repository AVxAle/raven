<?xml version="1.0" encoding="UTF-8"?>
<Simulation>
<!--
this is a test for the adaptive sampling that uses an adaptive sampling over the dummy model
-->
<RunInfo>
    <WorkingDir>AdaptiveTest</WorkingDir>
    <Files>myModel.py</Files>
    <Files>myFunction.py</Files>
    <Sequence>firstAdaptive</Sequence>
    <batchSize>8</batchSize>
</RunInfo>

<Distributions>
    <Normal name='X_distrib'>
        <mean>4</mean>
        <sigma>1</sigma>
    </Normal>
    <Normal name='Y_distrib'>
        <mean>4</mean>
        <sigma>10</sigma>
    </Normal>
    <Normal name='Z_distrib'>
        <mean>-4</mean>
        <sigma>1</sigma>
    </Normal>
</Distributions>

<Samplers>
  <Adaptive name='myAdaptive' adaptiveAlgorithm='leastDistance' >
    <Convergence norm='relL2' limit='100' forceIteration='False' weight='probability'>10E-5</Convergence>
    <varibale name='X' >
      <distribution type ='Normal'>X_distrib</distribution>
    </varibale>
    <varibale name='Y' >
      <distribution type ='Normal'>Y_distrib</distribution>
    </varibale>
    <varibale name='Z' >
      <distribution type ='Normal'>Z_distrib</distribution>
    </varibale>
  </Adaptive>
</Samplers>
<Functions>
  <External name='myFunction' file='myFunction.py'>
    <variable type='numpy.ndarray'>X</variable>
    <variable type='numpy.ndarray'>Y</variable>
    <variable type='numpy.ndarray'>Z</variable>
  </External>
</Functions>
<Datas>
    <TimePointSet name='adaptiveOut'>
        <Input>X,Y,Z</Input>
        <Output>whatEver</Output>
   </TimePointSet>
   <TimePointSet name='dummyIN'>
      <Input>X,Y,Z</Input>
      <Output>whatEver</Output>
   </TimePointSet>
    <TimePointSet name='limitSurf'>
        <Input>X,Y,Z</Input>
        <Output>whatEver</Output>
   </TimePointSet>
</Datas>

<Models>
  <Dummy name='MyDummy' subType='' print='True'/>
</Models>

<Steps>
    <Adaptive name='firstAdaptive' sleepTime='0.001'>
        <Input             class='Datas'     type='TimePoint'   >dummyIN</Input>
        <Sampler           class='Samplers'  type='Adaptive'    >myAdaptive</Sampler>
        <TargetEvaluation  class='Datas'     type='TimePointSet'>adaptiveOut</TargetEvaluation>
        <SolutionExport    class='Datas'     type='TimePointSet'>limitSurf</SolutionExport>
        <Function          class='Functions' type='External'    >myFunction</Function>
        <Model             class='Models'    type='Dummy'       >MyDummy</Model>
        <Output            class='Datas'     type='TimePointSet'>adaptiveOut</Output>
    </Adaptive> 
</Steps>
</Simulation>



