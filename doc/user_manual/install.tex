\section{Installation}

\subsection{Framework Source Install}

\subsubsection{Unpacking The Source}

Untar the source install (if there is more than one version of the
source tarball, the full filename will need to be used instead of *):

\begin{lstlisting}[language=bash]
tar -xvzf raven_framework_*_source.tar.gz
\end{lstlisting}

\subsubsection{Dependencies}
\label{raven_dependencies}
RAVEN has a number of dependencies that must be installed before it can be used,
the recommended minimum versions are:

\begin{enumerate}
\item numpy-1.7.0
\item hdf5-1.8.12
\item Cython-0.18
\item h5py-2.2.1
\item scipy-0.12.0
\item scikit-learn-0.14.1
\item matplotlib-1.4.0
\end{enumerate}

Older versions may work, but it is highly recommended to use these minimum 
versions.
%
You may install these dependencies yourself, or by running the
\texttt{raven\_libs\_script.sh} script provided within the RAVEN distribution:

\maljdan{Do we still have the trunk directory?}
\begin{lstlisting}[language=bash]
cd trunk/raven/
./raven_libs_script.sh
cd ../../
\end{lstlisting}

\subsubsection{Compilation}

First, CROW must be compiled. This can be done either with the python setup or
with a makefile.

Using the setup.py file:
\begin{lstlisting}[language=bash]
cd trunk/crow/
python setup.py build_ext build install --user
\end{lstlisting}

Using the makefile:
\begin{lstlisting}[language=bash]
cd trunk/crow/
make -f Makefile.linux
\end{lstlisting}

\subsubsection{Running the Test Suite}

Next, the tests should be run (you may need to change the \texttt{cd}
command if you are not in the crow directory):

\begin{lstlisting}[language=bash]
cd ../raven/
./run_tests --re=framework --skip-config-check
\end{lstlisting}

The output should describe why any tests failed.
%
At the end, there should be a line that looks similar to the output below:
\begin{lstlisting}[language=bash]
8 passed, 19 skipped, 0 pending, 0 failed
\end{lstlisting}

\subsection{Ubuntu Framework Install}

\subsubsection{Dependencies}
Install the dependencies using the command:

\begin{lstlisting}[language=bash]
sudo apt-get install libtool python-dev swig g++ python3-dev \
 python-numpy python-sklearn python-h5py
\end{lstlisting}

\subsubsection{Installation}
Untar the binary (if there is more than one version of the
binary, the full filename will need to be used instead of *):

\begin{lstlisting}[language=bash]
tar -xvzf raven_framework_*_ubuntu.tar.gz
\end{lstlisting}

\subsubsection{Running the Test Suite}
Run the tests:

\begin{lstlisting}[language=bash]
cd trunk/raven/
./run_tests --re=framework --skip-config-check
\end{lstlisting}

The output should describe why any tests failed.
%
At the end, there should be a line that looks similar to the output below:
\begin{lstlisting}[language=bash]
8 passed, 19 skipped, 0 pending, 0 failed
\end{lstlisting}

\subsection{Fedora Framework Install}

\subsubsection{Dependencies}
Install the dependencies:

\begin{lstlisting}[language=bash]
yum install swig libtool gcc-c++ python-devel python3-devel \
 numpy h5py scipy python-scikit-learn python-matplotlib-qt4
\end{lstlisting}

\maljdan{Do we want the equivalent command for Ubuntu?}

Optionally, if you want to be able to edit and rebuild the manual, you can 
install \TeX~Live and its related packages:
\begin{lstlisting}[language=bash]
yum install texlive texlive-subfigure texlive-stmaryrd
\end{lstlisting}

\subsubsection{Installation}
Untar the binary (if there is more than one version of the
binary, the full filename will need to be used instead of *):

\begin{lstlisting}[language=bash]
tar -xvzf raven_framework_*_fedora.tar.gz
\end{lstlisting}

\subsubsection{Running The Test Suite}
Run the tests:

\begin{lstlisting}[language=bash]
cd trunk/raven/
./run_tests --re=framework --skip-config-check
\end{lstlisting}

The output should describe why any tests failed.
%
At the end, there should be a line that looks similar to the output below:
\begin{lstlisting}[language=bash]
8 passed, 19 skipped, 0 pending, 0 failed
\end{lstlisting}

\subsection{OSX Framework Install}

Open up the file \texttt{raven\_libs\_framework\_and\_crow.dmg}.
%
Next, Open up the \texttt{raven\_libs.pkg} inside, and install it.
%
The files will be installed into \texttt{/opt/raven\_libs}.
%
Your \texttt{.bash\_profile} will be modified to source the
\texttt{/opt/raven\_libs/environments/raven\_libs\_profile} file.
%
This file sets up the environment variables \texttt{PYTHONPATH} and
\texttt{PATH} so that the \texttt{raven\_framework} command can be used.

\subsection{MOOSE and RAVEN Source Install}

\subsubsection{MOOSE, RELAP-7, and Other Dependencies}
First, MOOSE should be installed.  Follow the instructions for MOOSE listed
here: \url{http://mooseframework.org/getting-started/}.

Next, if the C++ RAVEN is desired, RELAP-7 needs to be installed.
%
Follow the RELAP-7 instructions. \maljdan{Where?} 
Ensure that MOOSE and RELAP-7 are installed in the same directory level.

\subsubsection{Obtaining CROW and RAVEN}
Then clone CROW and RAVEN:

\begin{lstlisting}[language=bash]
git clone git@hpcgitlab.inl.gov:idaholab/crow.git
git clone git@hpcgitlab.inl.gov:idaholab/raven.git
\end{lstlisting}

Install the RAVEN dependencies via one of the methods mentioned for
the RAVEN framework (see Section \ref{raven_dependencies}).

\subsubsection{Compilation}
\maljdan{Do they need to build CROW first?}

Then compile RAVEN:

\begin{lstlisting}[language=bash]
cd raven
make
\end{lstlisting}

\subsubsection{Running The Test Suite}
Then run the tests:

\begin{lstlisting}[language=bash]
./run_tests
\end{lstlisting}

The output should describe why any tests failed.
%
At the end, there should be a line that looks similar to the output below:
\begin{lstlisting}[language=bash]
8 passed, 19 skipped, 0 pending, 0 failed
\end{lstlisting}
