\section{Distributions \\ \vspace{2 mm}}
\label{sec:distributions}
\newcommand{\distname}[1]{\textbf{#1}}
\newcommand{\distattrib}[1]{\textit{#1}}
RAVEN provides support for several probability distributions. Currently, the user can choose among all the most important 1-Dimensional distributions and N-Dimensional ones, either custom or Multi-Variate.  
\\ The user needs to specify the probability distributions, that need to be used during the simulation, within the $<Distributions>$ xml block:
\begin{lstlisting}[style=XML]
<Simulation>
   ...
  <Distributions>
    <!-- here all the distributions, that need to be used, are listed -->
  </Distributions>
  ...
</Simulation>
\end{lstlisting}
In the following two sub-sections, the input requirements for all of them are reported.
%%%%%% 1-Dimensional Probability distributions
\subsection{1-Dimensional Probability Distributions}
\label{subsec:1dDist}

This sub-section is organized in two different parts: 1) Continuous 1-D distributions; 2) Discrete 1-D distributions. These two chapters cover all the  requirements for using the different distribution entities. 
%%%%%% paragraph 1-Dimensional Continuous Distributions.
\subsubsection{1-Dimensional Continuous Distributions.}
\label{subsubsec:1DContinuous}

In this paragraph all the 1-D distributions', currently available in RAVEN, are reported.
\\ Firstly, all the probability distributions functions in the code can be truncated by the following keywords:
\begin{lstlisting}[style=XML]
<lowerBound>***</lowerBound>
<upperBound>***</upperBound>
\end{lstlisting}
Obviously, each distribution already defines its validity domain (e.g. Normal distribution, [-inf,+inf]).
\\ RAVEN currently provides support for 12 1-Dimensional distributions.  In the following paragraphs, all the input requirements are reported and commented.

%%%%%% Beta
\paragraph{Beta Distribution}
\label{Beta}
The \distname{Beta} distribution is a continuous distribution  defined on the interval $[0, 1]$ parametrized by two positive shape parameters, denoted by $\alpha$ and $\beta$, that appear as exponents of the random variable and control the shape of the distribution. The distribution domain  can be changed,specifying new boundaries, to fit the user needs.  Its support is $x \in (0, 1)$.
\\ The specifications of this distribution must be defined within the xml block $<Beta>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<alpha>$, float, required parameter, first shape parameter;
\item $<beta>$, float, required parameter, second shape parameter;
\item $<low>$, float, optional parameter,  lower domain boundary;  
\item $<high>$, float, required parameter, upper domain boundary.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Beta name='...'>
     <low>***</low>
     <high>***</high>
     <alpha>***</alpha>
     <beta>***</beta>
  </Beta>
  ...
</Distributions>
----------------------------
\end{lstlisting}



%%%%%% Exponential
\paragraph{Exponential Distribution}
\label{Exponential}
The \distname{Exponential} distribution is a continuous distribution that can be used to model the time between independent events that
happen at a constant average time.  Its support is $x \in [0, +\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<Exponential>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<lambda>$, float, required parameter,  rate parameter.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Exponential name='...'>
    <lambda>***</lambda>
  </Exponential>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Gamma
\paragraph{Gamma Distribution}
\label{Gamma}
The \distname{Gamma} distribution is a two-parameter family of continuous probability distributions. The common exponential distribution and chi-squared distribution are special cases of the gamma distribution.  Its support is $x \in (0,+\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<Gamma>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<alpha>$, float, required parameter, shape parameter;
\item $<beta>$, float, required parameter, 1/scale or the inverse scale parameter;
\item $<low>$, float, optional parameter,  lower domain boundary.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Gamma name='...'>
    <alpha>***</alpha>
    <beta>***</beta>
    <low>***</low>
  </Gamma>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Logistic
\paragraph{Logistic Distribution}
\label{Logistic}
The \distname{Logistic} distribution is a continuous distribution
similar to the normal distribution with a CDF that is an instance of a
logistic function. It resembles the normal distribution in shape but has heavier tails (higher kurtosis). Its support is $x \in (-\inf,+\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<Logistic>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<location>$, float, required parameter, it is the distribution mean;
\item $<scale>$, float, required parameter, scale parameter that is proportional to the standard deviation.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Logistic name='...'>
    <location>***</location>
    <scale>***</scale>
  </Logistic>
  ...
</Distributions>
----------------------------
\end{lstlisting}
 

%%%%%% LogNormal
\paragraph{LogNormal Distribution}
\label{LogNormal}
The \distname{LogNormal} distribution is a continuous distribution
with the logarithm of the random variable being normally distributed. Its support is $x \in (0, +\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<LogNormal>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<mean>$, float, required parameter, it is the distribution mean or expected value (in log-scale);
\item $<sigma>$, float, required parameter, standard deviation.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <LogNormal name='...'>
    <mean>***</mean>
    <sigma>***</sigma>
  </LogNormal>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Normal
\paragraph{Normal Distribution}
\label{Normal}
The \distname{Normal} distribution (or Gaussian) distribution is a
continuous distribution. It is extremely useful because of the central limit theorem, which states that, under mild conditions, the mean of many random variables independently drawn from the same distribution is distributed approximately normally, irrespective of the form of the original distribution. Its support is $x \in (-\inf, +\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<Normal>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<mean>$, float, required parameter, it is the distribution mean or expected value;
\item $<sigma>$, float, required parameter, standard deviation.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Normal name='...'>
    <mean>***</mean>
    <sigma>***</sigma>
  </Normal>
  ...
</Distributions>
----------------------------
\end{lstlisting}




%%%%%% Triangular
\paragraph{Triangular Distribution}
\label{Triangular}
The \distname{Triangular} distribution is a continuous distribution that has a triangular shape for the Pdf. It is often used where the distribution is only vaguely known, but, like the uniform distribution, upper and lower limits are ``known'', but a ``best guess'', the mode or center point, is also added. It has been recommended as a ``proxy'' for the beta distribution. Its support is $lower \le x \le upper$.
\\ The specifications of this distribution must be defined within the xml block $<Triangular>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<apex>$, float, required parameter, ``best guess'', also called, peak factor;
\item $<min>$, float, required parameter, domain lower boundary;
\item $<max>$, float, required parameter, domain upper boundary.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Triangular name='...'>
    <apex>***</apex>
    <min>***</min>
    <max>***</max>
  </Triangular>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Uniform
\paragraph{Uniform Distribution}
\label{Uniform}
The \distname{Uniform} distribution is a continuous distribution with a rectangular shaped Pdf. It is often used where the distribution is only vaguely known, but upper and lower limits are ``known''. Its support is $lower \le x \le upper$.
\\ The specifications of this distribution must be defined within the xml block $<Uniform>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<low>$, float, required parameter, domain lower boundary;
\item $<high>$, float, required parameter, domain upper boundary.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Uniform name='...'>
    <low>***</low>
    <high>***</high>
  </Uniform>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Weibull
\paragraph{Weibull Distribution}
\label{Weibull}
The \distname{Weibull} distribution is a continuous distribution that is often used in the field of failure analysis; in particular it can mimic distributions where the failure rate varies over time. If the failure rate is:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item constant over time, then $k = 1$, suggests that items are failing from random events;   
\item decreases over time, then $k < 1$, suggesting ``infant mortality''; 
\item increases over time, then $k > 1$, suggesting ``wear out'' - more likely to fail as time goes by.
\end{itemize}
\vspace{-5mm}
 Its support is $x \in [0, +\inf)$.
\\ The specifications of this distribution must be defined within the xml block $<Weibull>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<k>$, float, required parameter, shape parameter;
\item $<lambda>$, float, required parameter, scale parameter.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Weibull name='...'>
    <lambda>***</lambda>
    <k>***</k>
  </Weibull>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% paragraph 1-Dimensional Discrete Distributions.
\subsubsection{1-Dimensional Discrete Distributions.}
\label{subsubsec:1DDiscrete}
RAVEN currently supports 3 discrete distributions. In the following paragraphs, the input requirements are reported.
%%%%%% Bernoulli
\paragraph{Bernoulli Distribution}
\label{Bernoulli}
The \distname{Bernoulli} distribution is a discrete distribution of the outcome of a single trial with only two results, 0 (failure) or 1 (success), with a probability of success \distattrib{p}. It is the simplest building block on which other discrete distributions of sequences of independent Bernoulli trials can be based. Basically, it is the binomial distribution (k = 1, \distattrib{p}) with only one trial.  Its support is $k \in {0, 1}$.
\\ The specifications of this distribution must be defined within the xml block $<Bernoulli>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required integer attribute}, Name of this distribution. As for the other objects, this is the name that can be used to refer to this specific entity in other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<p>$, float, required parameter, probability of success.
 \end{itemize}
\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Bernoulli name='...'>
    <p>***</p>
  </Bernoulli>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Binomial
\paragraph{Binomial Distribution}
\label{Binomial}
The \distname{Binomial} distribution is the discrete probability distribution of the number of successes in a sequence of \distattrib{n} independent yes/no experiments, each of which yields success with probability \distattrib{p}. Its support is $k \in {0, 1, 2, ..., n}$.
\\ The specifications of this distribution must be defined within the xml block $<Binomial>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<p>$, float, required parameter,  probability of success;
\item $<n>$, integer, required parameter, number of experiment.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Binomial name='...'>
    <n>***</n>
    <p>***</p>
  </Binomial>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% Poisson
\paragraph{Poisson Distribution}
\label{Poisson}
The \distname{Poisson} distribution is a discrete probability distribution that expresses the probability of a given number of events occurring in a fixed interval of time and/or space if these events occur with a known average rate and independently of the time since the last event. Its support is $k \in {1, 2, 3, 4, ...}$.
\\ The specifications of this distribution must be defined within the xml block $<Poisson>$. This xml-node needs to contain the attribute:
\vspace{-5mm}
\begin{itemize}
\itemsep0em
\item \textbf{name}, \textit{required string attribute}, user-defined name of this distribution. N.B. As for the other objects, this is the name that can be used to refer to this specific entity from other input blocks (xml).   
\end{itemize}
\vspace{-5mm}
This distribution can be initialized through the following keyword/s:
\begin{itemize}
\item $<mu>$, float, required parameter, mean rate of events/time.
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <Poisson name='...'>
    <mu>***</mu>
  </Poisson>
  ...
</Distributions>
----------------------------
\end{lstlisting}

%%%%%% N-Dimensional Probability distributions
\subsection{N-Dimensional Probability Distributions}
\label{subsec:NdDist}

The group of $N$-Dimensional distributions allow the user to model stochastic dependences between parameters. Thus instead of using $N$ distributions for $N$ parameters, the user can define a single distribution lying in a $N$-Dimensional space.
The following $N$-Dimensional Probability Distributions are available within RAVEN:
\begin{itemize}
\item NDInverseWeight: ND Inverse Weight interpolation distribution (see Section~\ref{NDInverseWeight})
\item NDCartesianSpline: ND spline interpolation distribution (see Section~\ref{NDCartesianSpline})
\end{itemize}
For both distributions, the user provides the sampled values of either CDF or PDF of the distribution. The sampled values can be scattered distributed (for NDInverseWeight) or over a cartesian grid (for NDCartesianSpline).

The user can initialize, for each $N$-Dimensional distribution, the parameters of the random number generator function:
\begin{itemize}
\item initial\textunderscore grid\textunderscore disc 
\item tolerance
\end{itemize}
in the $<dist\textunderscore init>$ block defined in sampler block $<sampler\textunderscore init>$ (see Section~\ref{sec:Samplers}). 

\paragraph{NDInverseWeight Distribution}
\label{NDInverseWeight}

The specifications of this distribution must be defined within the xml block $<NDInverseWeight>$.  In RAVEN the NDInverseWeight distribution can be initialized through the following keywords:
\begin{itemize}
\item $<p>$, float, required parameter, power parameter. Greater values of p assign greater influence to values closest to the interpolated point.
\item $<data\textunderscore filename   type='...' >$, string,  name of the data file containing scattered values (file type .txt). The type attribute indicate if the data in indicated file is PDF or CDF. 
\item $<working\textunderscore dir>$, string, folder location of the data file
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <NDInverseWeight name='...'>
        <p>...</p>
        <data_filename type='...'>...</data_filename>
        <working_dir></working_dir>
  </NDInverseWeight>
  ...
</Distributions>
----------------------------
\end{lstlisting}

Each data entry contained in data\textunderscore filename is listed row by row and must be listed as follows:
\begin{itemize}
\item number of dimensions
\item number of sampled points
\item ND coordinate of each sampled point
\item value of each sampled point
\end{itemize}

As an example, the following shows the data entries contained in data\textunderscore filename for a 3-dimensional data set that contained two sampled CDF values: ([0.0,0.0,0.0], 0.1) and ([1.0, 1.0,0.0], 0.8)

\begin{lstlisting}
----------------------------
Example: scattered data file
----------------------------
3
2
0.0
0.0
0.0
1.0
1.0
0.0
0.1
0.8
----------------------------
\end{lstlisting}

\paragraph{NDCartesianSpline Distribution}
\label{NDCartesianSpline}
The specifications of this distribution must be defined within the xml block $<NDCartesianSpline>$.  In RAVEN NDCartesianSpline distribution can be initialized through the following keywords:
\begin{itemize}
\item $<data_filename   type='...' >$, string,  name of the data file containing scattered values (file type .txt). The type attribute indicate if the data in indicated file is PDF or CDF. 
\item $<working_dir>$, string, folder location of the data file
\end{itemize}

\begin{lstlisting}[style=XML]
----------------------------
Example:
----------------------------
<Distributions>
  ...
  <NDCartesianSpline name='...'>
        <data_filename type='...'>...</data_filename>
        <working_dir></working_dir>
  </NDCartesianSpline>
  ...
</Distributions>
----------------------------
\end{lstlisting}

Each data entry contained in data \textunderscore filename is listed row by row and must be listed as follows:
\begin{itemize}
\item number of dimensions
\item number of discretization for each dimension
\item discretization values for each dimension
\item value of each sampled point
\end{itemize}

As an example, the following shows the data entries contained in data \textunderscore filename for a 2-dimensional CDF data set on the following grid $(x,y)$:
\begin{itemize}
\item first dimension (x): -0.5, 0.5
\item first dimension (y): 1.0 2.0 3.0
\end{itemize}

\begin{lstlisting}
----------------------------
Example: scattered data file
----------------------------
2
2
3
-0.5
0.5
1.0 
2.0 
3.0
CDF value of (-0.5,1.0)
CDF value of (+0.5,1.0)
CDF value of (-0.5,2.0)
CDF value of (+0.5,2.0)
CDF value of (-0.5,3.0)
CDF value of (+0.5,3.0)
----------------------------
\end{lstlisting}