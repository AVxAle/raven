<?xml version="1.0" encoding="UTF-8"?>
<Simulation>
<RunInfo>
    <WorkingDir>inputs</WorkingDir>
    <Files>test_poly.py</Files>
    <Sequence>FirstMRun,create_ROM</Sequence>
    <batchSize>2</batchSize>
    <!--<ParallelCommand></ParallelCommand>
    <NumMPI></NumMPI>
    <ThreadingCommand></ThreadingCommand>
    <NumThreads></NumThreads>
    <numNode></numNode>
    <queueingSoftware></queueingSoftware>
    <procByNode></procByNode>
    <numProcByRun></numProcByRun>
    <totNumbCores></totNumbCores>-->
</RunInfo>

<Models>
    <ExternalModel name='PythonModule' type='' ModuleToLoad='./inputs/test_poly'>  
       <variable type='float'>x</variable>
       <variable type='float'>y</variable>
       <variable type='float'>outcome</variable>
       <initialize>
       </initialize>
    </ExternalModel>
</Models> 

<Distributions>
    <Uniform name='distx'>
        <low>0</low>
        <hi>1</hi>
    </Uniform>
    <Uniform name='disty'>
        <low>0</low>
        <hi>1</hi>
    </Uniform>
</Distributions>

<Samplers>
    <MonteCarlo     name='MC_external'  limit='1000' >
      <Variable type ='Uniform' distName='distx'>x</Variable>
      <Variable type ='Uniform' distName='distx'>y</Variable>
    </MonteCarlo>
    <StochasticCollocation name='SC' min_poly_order='2' limit='8'>
        <Variable type ='Uniform' distName='distx' poly_order='2'>x</Variable>
        <Variable type ='Uniform' distName='disty' poly_order='2'>y</Variable>
    </StochasticCollocation>
</Samplers>

<Steps>
    <MultiRun name='FirstMRun'>
        <Input   type='Files'     subtype=''            >test_poly.py</Input>
        <Model   type='Models'    subtype='ExternalModule' >PythonModule</Model>
        <Sampler type='Samplers'  subtype='StochasticCollocation'   >SC</Sampler>
        <Output  type='DataBases' subtype='HDF5'        >SC_HDF5</Output>
        <Output  type='Datas'     subtype='TimePointSet'>outcome_poly</Output>
        <!--Output  type='Datas'     subtype='Histories'>test_poly_histories</Output-->
    </MultiRun>
    <SCRun name='create_ROM'>
        <Input type='DataBases' subtype='HDF5' >SC_HDF5</Input>
        <ROM type='Models' subtype='StochasticCollocation'>SCrom</ROM>
        <Sampler type='Samplers' subtype='StochasticCollocation'>SCrom</Sampler>
    </SCRun>
</Steps>


<Datas>
    <TimePointSet name='outcome_poly' printCSV='t'>
        <Input>x</Input>
        <Input>y</Input>
        <Output>outcome</Output>
   </TimePointSet>
    <Histories name='test_poly_histories' printCSV='t'>
        <Input>x</Input>
        <Input>y</Input>
        <Output>outcome</Output>
   </Histories>
</Datas>

<DataBases>
  <HDF5 name='SC_HDF5' type='MC' targetParam='outcome'/>
</DataBases>


</Simulation>



