<?xml version="1.0" encoding="UTF-8"?>
<Simulatio>
<RunInfo>
    <WorkingDir>./inputs_response_o</WorkingDir>
    <Files>TMI_test_PRA_transient_less_w_ss_out_restart_0831.rd-0,TMI_PRA_trans_MC_control.py,TMI_PRA_trans_SC_control.py,TMI.i,TMI_SC.i,TMI_test_PRA_transient_less_w_ss_out_restart_0831_mesh.xda,TMI_test_PRA_transient_less_w_ss_out_restart_0831.xda</Files>
    <Sequence>set_up_StochCollocation,create_ROM,sample_SC_ROM,solve_MC</Sequence>
    <!--Sequence>set_up_SC,create_ROM,solve_MC,sample_SC_ROM</Sequence-->
    <mode>mpi</mode>
    <batchSize>8</batchSize>
</RunInfo>

<Models>
    <Code name='MyRAVEN' type='RAVEN'>../RAVEN-opt</Code>
    <ROM  name='SCrom'   type='StochasticPolynomials'>SCrom</ROM>
</Models>
<Distributions>
    <Normal name='crew1DG1'>
        <mean>800</mean>
        <sigma>200</sigma>
    </Normal>
    <Normal name='crewSecPG'>
        <mean>1400</mean>
        <sigma>400</sigma>
    </Normal>
    <Uniform name='crew1DG2CoupledDG1'>
        <low>0.5</low>
        <hi>1.0</hi>
    </Uniform>
    <Normal name='PrimPGrecovery'>
        <mean>2000</mean>
        <sigma>500</sigma>
    </Normal>
    <Uniform name='crew1DG1_uni'>
        <low>0.0</low>
        <hi>1600.0</hi>
    </Uniform>
    <Uniform name='crewSecPG_uni'>
        <low>200.0</low>
        <hi>3000.0</hi>
    </Uniform>
    <Uniform name='PrimPGrecovery_uni'>
        <low>400.0</low>
        <hi>4400.0</hi>
    </Uniform>
</Distributions>


<Samplers>
  <StochasticCollocation name='SC' min_poly_order='2'>
      <Variable type ='Uniform'  distName='crew1DG1_uni'            polyOrder='1'>RavenAuxiliary|DG1recoveryTime|initial_value</Variable>
      <Variable type ='Uniform' distName='crew1DG2CoupledDG1'       polyOrder='1'>RavenAuxiliary|crew1DG2CoupledDG1|initial_value</Variable>
      <Variable type ='Uniform'  distName='crewSecPG_uni'           polyOrder='1'>RavenAuxiliary|SecPGrecoveryTime|initial_value</Variable>
  </StochasticCollocation>
<!-- 
  <StochasticCollocation name='SC' min_poly_order='2'>
      <Variable type ='Normal'  distName='crew1DG1'            polyOrder='2'>RavenAuxiliary|DG1recoveryTime|initial_value</Variable>
      <Variable type ='Uniform' distName='crew1DG2CoupledDG1'  polyOrder='2'>RavenAuxiliary|crew1DG2CoupledDG1|initial_value</Variable>
      <Variable type ='Normal'  distName='crewSecPG'           polyOrder='2'>RavenAuxiliary|SecPGrecoveryTime|initial_value</Variable>
      <Variable type ='Normal'  distName='PrimPGrecovery'      polyOrder='2'>RavenAuxiliary|PrimPGrecoveryTime|initial_value</Variable>
  </StochasticCollocation>
-->
  <MonteCarlo     name='MC'    limit='8' initial_seed='20' />
  <MonteCarlo     name='MCSC'  limit='8' initial_seed='20'>
      <Variable type ='Normal'  distName='crew1DG1'            >DG1recoveryTime</Variable>
      <Variable type ='Uniform' distName='crew1DG2CoupledDG1'  >crew1DG2CoupledDG1</Variable>
      <Variable type ='Normal'  distName='crewSecPG'           >SecPGrecoveryTime</Variable>
  </MonteCarlo>
  <MonteCarlo     name='MCSC_uni'  limit='8' initial_seed='20'>
      <Variable type ='Uniform'  distName='crew1DG1_uni'            >DG1recoveryTime</Variable>
      <Variable type ='Uniform' distName='crew1DG2CoupledDG1'       >crew1DG2CoupledDG1</Variable>
      <Variable type ='Uniform'  distName='crewSecPG_uni'           >SecPGrecoveryTime</Variable>
  </MonteCarlo>
</Samplers>


<Steps>
    <MultiRun name='set_up_StochCollocation'>
        <Input   type='Files'      subtype=''                     >TMI_SC.i</Input>
        <Input   type='Files'      subtype=''                     >TMI_PRA_trans_SC_control.py</Input>
        <Input   type='Files'      subtype=''                     >TMI_test_PRA_transient_less_w_ss_out_restart_0831.xda</Input>
        <Input   type='Files'      subtype=''                     >TMI_test_PRA_transient_less_w_ss_out_restart_0831_mesh.xda</Input>
        <Input   type='Files'      subtype=''                     >TMI_test_PRA_transient_less_w_ss_out_restart_0831.rd-0</Input>
        <Model   type='Models'     subtype='Code'                 >MyRAVEN</Model>
        <Sampler type='Samplers'   subtype='StochasticCollocation'>SC</Sampler>
        <Output  type='Databases'  subtype='HDF5'                 >SC_RUN</Output>
        <Output  type='DataObjects'  subtype='TimePointSet'             >output_set_up_StochCollocation</Output>
    </MultiRun> 
    <SCRun name='create_ROM'>
        <Input type='Databases'  subtype='HDF5'            >SC_RUN</Input>
        <ROM   type='Models'       subtype='StochasticCollocation'>SCrom</ROM>
        <Sampler type='Samplers'   subtype='StochasticCollocation'>SC</Sampler>
    </SCRun> 
    <MultiRun name='solve_MC'>
        <Input   type='Files'      subtype=''                >TMI.i</Input>
        <Input   type='Files'      subtype=''                >TMI_PRA_trans_MC_control.py</Input>        
        <Input   type='Files'      subtype=''                >TMI_test_PRA_transient_less_w_ss_out_restart_0831.xda</Input>
        <Input   type='Files'      subtype=''                >TMI_test_PRA_transient_less_w_ss_out_restart_0831_mesh.xda</Input>
        <Input   type='Files'      subtype=''                >TMI_test_PRA_transient_less_w_ss_out_restart_0831.rd-0</Input>
        <Model   type='Models'     subtype='Code'            >MyRAVEN</Model>
        <Sampler type='Samplers'   subtype='MonteCarlo'      >MC</Sampler>
        <Output  type='DataObjects'  subtype='TimePoint'           >data_for_sampling_empty_at_begin</Output>
        <Output  type='DataObjects'  subtype='TimePointSet'        >output_solve_MC</Output>
    </MultiRun> 
    <MultiRun name='sample_SC_ROM'>
        <Input   type='DataObjects'    subtype='TimePoint'   >data_for_sampling_empty_at_begin</Input>
        <Model   type='Models'   subtype='ROM'         >SCrom</Model>
        <Sampler type='Samplers' subtype='MonteCarlo'  >MCSC</Sampler>
        <Output  type='DataObjects'    subtype='TimePointSet'>outputMontecarloRom</Output>
    </MultiRun>
</Steps>
<OutStreams>
  <Screen name="MCScreen">
    <variable>avg_temp_clad_CH1</variable>
  </Screen> 
</OutStreams>

<DataObjects>
   <TimePointSet name='timepointset_from_database_for_rom_trainer' printCSV='t' operator='max'>
        <Input>DG1recoveryTime,crew1DG2CoupledDG1,SecPGrecoveryTime</Input>
        <Output>avg_temp_clad_CH1</Output>
   </TimePointSet>
   <TimePoint name='data_for_sampling_empty_at_begin'>
        <Input name="1">DG1recoveryTime,crew1DG2CoupledDG1,SecPGrecoveryTime</Input>
        <Output>avg_temp_clad_CH1</Output>
   </TimePoint>
   <TimePointSet name='outputMontecarloRom' printCSV='t' operator='max'>
        <Input>DG1recoveryTime,crew1DG2CoupledDG1,SecPGrecoveryTime</Input>
        <Output>avg_temp_clad_CH1</Output>
   </TimePointSet>
    <TimePointSet name='output_solve_MC' printCSV='t' operator='max'>
        <Input>DG1recoveryTime,crew1DG2CoupledDG1,SecPGrecoveryTime</Input>
        <Output>avg_temp_clad_CH1</Output>
   </TimePointSet>
    <TimePointSet name='output_set_up_StochCollocation' printCSV='t' operator='max'>
        <Input>DG1recoveryTime,crew1DG2CoupledDG1,SecPGrecoveryTime</Input>
        <Output>avg_temp_clad_CH1</Output>
   </TimePointSet>
</DataObjects>

<Databases>
  <HDF5 name='SC_RUN' type='MC' targetParam='avg_temp_clad_CH1' operator='max'/>
  <HDF5 name='SC_OUT' type='MC' targetParam='avg_temp_clad_CH1' operator='max'/>
</Databases>



</Simulatio>



